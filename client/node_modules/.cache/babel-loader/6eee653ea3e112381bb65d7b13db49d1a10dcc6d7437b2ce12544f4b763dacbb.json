{"ast":null,"code":"var _jsxFileName = \"/Users/ujjwalsrivastava/Downloads/final-2/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Card from \"./components/Card\";\nimport tokens from \"./tokens\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  connectWallet,\n  fetchAll,\n  getMktBalance,\n  getItemsSold\n} = require(\"./lib/ethers\").init(window.ethereum);\nconst Navigation = _ref => {\n  let {\n    links,\n    isActive,\n    updateActive\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"align-self-end btn btn-dark mt-3 mx-5\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#modal\",\n      children: \"Mint & List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center mt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"nav\",\n        children: links.map((link, index) => {\n          const active = isActive === index ? 'active' : '';\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            onClick: () => updateActive(index),\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: `nav-link ${active}`,\n              \"aria-current\": \"page\",\n              href: \"/#\",\n              children: link\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 25\n            }, this)\n          }, link, false, {\n            fileName: _jsxFileName,\n            lineNumber: 16,\n            columnNumber: 21\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n};\n_c = Navigation;\nconst Pending = _ref2 => {\n  let {\n    isVisible\n  } = _ref2;\n  return isVisible ? /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-4 text-center\",\n    children: \" Fetching the NFTs ....\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 48\n  }, this) : null;\n};\n_c2 = Pending;\nconst Market = _ref3 => {\n  let {\n    isVisible,\n    isActive,\n    items\n  } = _ref3;\n  if (isVisible && !items.length) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-4 text-center\",\n      children: \"No items to show \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 46\n    }, this);\n  }\n  return isVisible ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid d-flex justify-content-center mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-start flex-wrap text-center\",\n      children: items.map(nft => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          isActive: isActive,\n          ...nft\n        }, `${nft.tokenId}-${nft.tokenURI}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this) : null;\n};\n_c3 = Market;\nexport default function Marketplace() {\n  _s();\n  const links = [\"All Tokens\", \"My Tokens\"];\n  const [account, setAccount] = useState(null);\n  const [mktBalance, setBalance] = useState(null);\n  const [itemsSold, setItemsSold] = useState(null);\n  const [items, setItems] = useState([]);\n  const [isPending, loading] = useState(true);\n  const [active, setActive] = useState(0);\n  const updateActive = index => {\n    setActive(index);\n  };\n  const getNFTs = async () => {\n    const items = await fetchAll();\n    setItems(items);\n    console.log(items);\n    loading(false);\n  };\n  const filtered = useMemo(() => {\n    return active === 0 ? items : items === null || items === void 0 ? void 0 : items.filter(item => item.seller === (account === null || account === void 0 ? void 0 : account.admin));\n  }, [items, active, account]);\n  useEffect(() => {\n    connectWallet().then(getMktBalance).then(getItemsSold).then(_ref4 => {\n      let {\n        itemsSold,\n        contractBalance,\n        account\n      } = _ref4;\n      setAccount(account);\n      setBalance(contractBalance);\n      setItemsSold(itemsSold);\n      getNFTs();\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      account: account,\n      balance: mktBalance,\n      itemsSold: itemsSold\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Navigation, {\n      links: links,\n      updateActive: updateActive,\n      isActive: active\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Market, {\n      isVisible: !isPending,\n      items: filtered,\n      isActive: active\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(Marketplace, \"s7ayIyiLu30BBifdYX3Livm6oFQ=\");\n_c4 = Marketplace;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Navigation\");\n$RefreshReg$(_c2, \"Pending\");\n$RefreshReg$(_c3, \"Market\");\n$RefreshReg$(_c4, \"Marketplace\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Navbar","Card","tokens","jsxDEV","_jsxDEV","Fragment","_Fragment","connectWallet","fetchAll","getMktBalance","getItemsSold","require","init","window","ethereum","Navigation","_ref","links","isActive","updateActive","className","children","type","fileName","_jsxFileName","lineNumber","columnNumber","map","link","index","active","onClick","href","_c","Pending","_ref2","isVisible","_c2","Market","_ref3","items","length","nft","tokenId","tokenURI","_c3","Marketplace","_s","account","setAccount","mktBalance","setBalance","itemsSold","setItemsSold","setItems","isPending","loading","setActive","getNFTs","console","log","filtered","filter","item","seller","admin","then","_ref4","contractBalance","balance","_c4","$RefreshReg$"],"sources":["/Users/ujjwalsrivastava/Downloads/final-2/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Card from \"./components/Card\";\nimport tokens from \"./tokens\";\n\nconst { connectWallet, fetchAll, getMktBalance, getItemsSold } = require(\"./lib/ethers\").init(window.ethereum);\nconst Navigation = ({ links, isActive, updateActive }) => {\n    return(\n    <div className=\"d-flex flex-column\">\n        <button type=\"button\" className=\"align-self-end btn btn-dark mt-3 mx-5\" data-bs-toggle=\"modal\" data-bs-target=\"#modal\">Mint & List</button>\n        <div className=\"d-flex justify-content-center mt-3\">\n            <ul className=\"nav\">\n                {links.map((link, index) => {\n                    const active = isActive === index ? 'active' : '';\n                    return(\n                    <li key={link} className=\"nav-item\" onClick={() => updateActive(index)}>\n                        <a className={`nav-link ${active}`} aria-current=\"page\" href=\"/#\">{link}</a>\n                    </li>)\n                })}\n            </ul>\n        </div>\n    </div>\n    )\n}\n\nconst Pending = ({ isVisible }) => isVisible ? <p className=\"mt-4 text-center\"> Fetching the NFTs ....</p> : null\n\nconst Market = ({ isVisible, isActive, items }) => {\n    if (isVisible && !items.length) { return(<p className=\"mt-4 text-center\">No items to show </p>)}\n    return(\n        isVisible ? \n        <div className=\"container-fluid d-flex justify-content-center mt-5\">\n            <div className=\"d-flex justify-content-start flex-wrap text-center\">\n                {items.map(nft => {\n                    return <Card isActive={isActive} key={`${nft.tokenId}-${nft.tokenURI}`} {...nft} />;\n                })}\n            </div>\n        </div> : null\n    )\n}\n   \nexport default function Marketplace() {\n    const links = [\"All Tokens\", \"My Tokens\"];\n    const [account, setAccount] = useState(null)\n    const [mktBalance, setBalance] = useState(null)\n    const [itemsSold, setItemsSold] = useState(null)\n    const [items, setItems] = useState([])\n    const [isPending, loading] = useState(true)\n    const [active, setActive] = useState(0)\n \n    const updateActive = (index) => {\n        setActive(index)\n    }\n    const getNFTs = async () => {\n        const items = await fetchAll()\n        setItems(items);\n        console.log(items);\n        loading(false)\n    }\n   \n    const filtered = useMemo(() => {\n        return active === 0 ? items : items?.filter(item => item.seller === account?.admin)\n    }, [items, active, account])\n\n    useEffect(() => {\n        connectWallet()\n            .then(getMktBalance)\n            .then(getItemsSold)\n            .then(({ itemsSold, contractBalance, account}) => {\n                setAccount(account)\n                setBalance(contractBalance)\n                setItemsSold(itemsSold)\n                getNFTs()\n            })\n\n    }, [])\n\n    return (\n      <>\n        <Navbar account={account} balance={mktBalance} itemsSold={itemsSold} />\n        <Navigation links={links} updateActive={updateActive} isActive={active}/>\n        <Market isVisible={!isPending} items={filtered} isActive={active} />        \n      </>\n    );\n}       "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}