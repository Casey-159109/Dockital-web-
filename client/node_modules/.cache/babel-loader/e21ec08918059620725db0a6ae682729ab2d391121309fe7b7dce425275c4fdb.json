{"ast":null,"code":"var _jsxFileName = \"/Users/ujjwalsrivastava/Downloads/final-2/client/src/components/Card.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  mktAddress\n} = require('../deploy');\nconst {\n  buyNFT,\n  sellNFT,\n  getAccount\n} = require(\"../lib/ethers\").init(window.ethereum);\nconst BuyButton = _ref => {\n  let {\n    isVisible,\n    buy,\n    tokenId\n  } = _ref;\n  return isVisible && /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"btn btn-sm btn-outline-warning\",\n    onClick: () => buy(tokenId),\n    children: \"BUY\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 25\n  }, this);\n};\n_c = BuyButton;\nconst SellButton = _ref2 => {\n  let {\n    isVisible,\n    sell,\n    tokenId\n  } = _ref2;\n  return isVisible && /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"btn btn-sm btn-outline-warning\",\n    onClick: () => sell(tokenId),\n    children: \"SELL\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 25\n  }, this);\n};\n_c2 = SellButton;\nconst PendingButton = _ref3 => {\n  let {\n    isPending\n  } = _ref3;\n  return isPending && /*#__PURE__*/_jsxDEV(\"button\", {\n    style: {\n      opacity: 0.8\n    },\n    className: \"btn btn-sm btn-outline-info\",\n    disabled: true,\n    children: \"Processing ... \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 25\n  }, this);\n};\n_c3 = PendingButton;\nconst Card = props => {\n  _s();\n  const [isPending, loading] = useState(false);\n  const [currentAccount, setAccount] = useState(null);\n  const {\n    tokenId,\n    tokenURI,\n    name,\n    owner,\n    price,\n    isActive,\n    isListed\n  } = props;\n  const buyToken = async () => {\n    loading(true);\n    try {\n      await buyNFT(tokenId);\n      loading(false);\n      alert(\"you have successfully bought the token!\");\n      window.location.reload();\n    } catch (e) {\n      console.error(e);\n      loading(false);\n    }\n  };\n  const sellToken = async () => {\n    loading(true);\n    try {\n      await sellNFT(tokenId);\n      loading(false);\n      alert(\"you have successfully sold the token!\");\n      window.location.reload();\n    } catch (e) {\n      console.error(e);\n      loading(false);\n    }\n  };\n  useEffect(() => {\n    getAccount().then(setAccount);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card mb-4 mx-5\",\n    style: {\n      width: \"18rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"img\",\n      style: {\n        backgroundImage: `url(${tokenURI}`,\n        backgroundSize: \"cover\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      style: {\n        paddingBottom: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"mb-4\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [price, \" ETH\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(PendingButton, {\n            isPending: isPending\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(BuyButton, {\n            ...props,\n            buy: buyToken,\n            isVisible: isListed && !isPending && isActive === 0 && seller != currentAccount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(SellButton, {\n            ...props,\n            sell: sellToken,\n            isVisible: owner === currentAccount && !isPending && !isListed && isActive === 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, tokenURI, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(Card, \"o6Igkqpr3pEnh8sEdmXqtGQiaGY=\");\n_c4 = Card;\nexport default Card;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"BuyButton\");\n$RefreshReg$(_c2, \"SellButton\");\n$RefreshReg$(_c3, \"PendingButton\");\n$RefreshReg$(_c4, \"Card\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","mktAddress","require","buyNFT","sellNFT","getAccount","init","window","ethereum","BuyButton","_ref","isVisible","buy","tokenId","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","SellButton","_ref2","sell","_c2","PendingButton","_ref3","isPending","style","opacity","disabled","_c3","Card","props","_s","loading","currentAccount","setAccount","tokenURI","name","owner","price","isActive","isListed","buyToken","alert","location","reload","e","console","error","sellToken","then","width","backgroundImage","backgroundSize","paddingBottom","seller","_c4","$RefreshReg$"],"sources":["/Users/ujjwalsrivastava/Downloads/final-2/client/src/components/Card.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nconst { mktAddress } = require('../deploy');\n\nconst { buyNFT, sellNFT, getAccount } = require(\"../lib/ethers\").init(window.ethereum);\n\nconst BuyButton = ({ isVisible, buy, tokenId }) => {\n    return isVisible && <button className=\"btn btn-sm btn-outline-warning\" onClick={() => buy(tokenId)}>BUY</button>\n}\nconst SellButton = ({ isVisible, sell, tokenId }) => {\n    return isVisible && <button className=\"btn btn-sm btn-outline-warning\" onClick={() => sell(tokenId)}>SELL</button>\n}\nconst PendingButton = ({ isPending }) => {\n    return isPending && <button style={{ opacity: 0.8 }} className=\"btn btn-sm btn-outline-info\" disabled>Processing ... </button>\n}\nconst Card = (props) => {\n    const [isPending, loading] = useState(false)\n    const [currentAccount, setAccount] = useState(null);\n    const { tokenId, tokenURI, name, owner, price, isActive, isListed } = props;\n    const buyToken = async () => {\n        loading(true);\n        try {\n            await buyNFT(tokenId);\n            loading(false);\n            alert(\"you have successfully bought the token!\");\n            window.location.reload()\n        } catch (e) {\n            console.error(e)\n            loading(false);\n        }\n    }\n\n    const sellToken = async () => {\n        loading(true);\n        try {\n            await sellNFT(tokenId);\n            loading(false);\n            alert(\"you have successfully sold the token!\");\n            window.location.reload()\n        } catch (e) {\n            console.error(e)\n            loading(false);\n        }\n    }\n    useEffect(() => {\n        getAccount().then(setAccount)\n    }, [])\n\n    return(\n        <div key={tokenURI}  className=\"card mb-4 mx-5\" style={{width: \"18rem\"}}>\n        <div className=\"img\" style={{ backgroundImage: `url(${tokenURI}`, backgroundSize: \"cover\"}}></div>\n        \n        <div className=\"card-body\" style={{ paddingBottom: 0 }}>\n          <h5  className=\"mb-4\">{name}</h5>\n        \n         <div className=\"d-flex justify-content-between align-content-center\">\n            <p>{price} ETH</p>\n        \n            <div>\n                <PendingButton isPending={isPending} />\n            \n                 <BuyButton  \n                    {...props} \n                    buy={buyToken} \n                    isVisible={isListed && !isPending && isActive === 0 && seller != currentAccount } \n                 />\n                <SellButton \n                    {...props}\n                    sell={sellToken} \n                    isVisible={owner === currentAccount && !isPending && !isListed && isActive === 1}  \n                />\n\n            </div>\n         </div>\n        \n         \n        </div>\n      </div>)\n}\nexport default Card"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}